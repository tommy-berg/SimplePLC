We are controlling a warehouse system that moves boxes into specific storage positions, with the target position set using input register 0 where position 100 represents the loading station and positions 0 through 40 represent individual storage slots, and to start the operation the emitter (discrete input 9) must be turned on and then off to spawn a box, then the entry conveyor (discrete input 0) should be turned on and kept running continuously while the load conveyor (discrete input 1) is also turned on at the same time since both operate together, and these conveyors run until the "At load" signal (coil 1) becomes false, indicating a box has arrived at the loading station, at which point the load conveyor should be turned off while the entry conveyor remains on, and before starting any loading or unloading the system must confirm it is not moving by checking coil 7 for movement in the X direction and coil 8 for movement in the Y direction, and if either is true the operation must pause until both are false, ensuring the machine is stationary, then with the box ready and no movement detected the loading sequence begins by setting forks left (discrete input 2) to true, waiting 200 milliseconds to ensure the forks are fully in place, then activating the lift (discrete input 4) to raise the box, waiting again to ensure the lift has finished before setting forks left to false, then updating the target position in input register 0 to the desired storage slot starting at position 1, and again waiting until both movement coils are false before continuing, then setting forks right (discrete input 3) to true and waiting 200 milliseconds to allow them to move into place, then deactivating the lift to lower the box, waiting again to ensure the lowering is complete before setting forks right to false to return to the neutral position, then setting the target position back to 100 to return to the loading station, again waiting for both movement coils to be false before proceeding, then triggering the emitter to start the next cycle by spawning a new box and repeating the sequence while incrementing the target storage position by 1 each time, and throughout the entire operation it is essential to insert a 200 millisecond delay between each mechanical action such as fork movement, lifting, or lowering to prevent jamming or interference in the equipment and to ensure the process runs smoothly and reliably.
